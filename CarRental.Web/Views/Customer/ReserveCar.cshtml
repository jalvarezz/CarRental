@{
    ViewBag.Title = "Reserve Car";
    ViewBag.Name = "CustomerActions";
}
@section scripts {
    <script src="@Url.Content("~/Binding/Models/ReserveCarModel.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Binding/ViewModels/ReserveCarViewModel.js")" type="text/javascript"></script>
}

@section ko_apply {
    var viewModel = new CarRental.ReserveCarViewModel();
    ko.applyBindingsWithValidation(viewModel, $('#reserve')[0], { insertMessages: false, messagesOnModified: false });
}

<div id="reserve">
    <div data-bind="visible: viewModel() == 'reserve', template: { name: 'reserve-template' }"></div>
    <div data-bind="visible: viewModel() == 'carlist', template: { name: 'carlist-template' }"></div>
    <div data-bind="visible: viewModel() == 'success', template: { name: 'success-template' }"></div>
</div>

<script type="text/html" id="reserve-template">
    @Html.Partial("~/Views/Shared/_ValidationErrors.cshtml")
    <div data-bind="with: reservationModel">
        <div class="form-group">
            <label class="col-md-2 control-label" style="text-align:left; width:140px;">Pickup date:</label>
            <div class="col-md-10">
                <input type="text" data-bind="value: PickupDate" class="form-control" style="width:250px;" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-2 control-label" style="text-align:left; width:140px;">Return date:</label>
            <div class="col-md-10">
                <input type="text" data-bind="value: ReturnDate" class="form-control" style="width:250px;" />
            </div>
        </div>
        <hr style="width: 415px; text-align: left;" />
        <div data-bind="loadingWhen: $parent.viewModelHelper.isLoading">
            <button type="button" class="btn btn-info btn-lg" data-bind="click: $parent.availableCars">Select an available car</button>
        </div>
    </div>
</script>
<script type="text/html" id="carlist-template">

</script>
<script type="text/html" id="success-template">

</script>